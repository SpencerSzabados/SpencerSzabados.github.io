<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Bayer Dithering | Spencer Szabados </title> <meta name="author" content="Spencer Szabados"> <meta name="description" content="The personal webpage of Spencer Szabados. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?b05f9a0b7405d7c8c89c7465593dea81"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?dadeb9c5d1fd12bc8d37475657446863"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?53a094b51ed1d1e025731eb00d240058" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?4d3046c2f9e13528b0ca4b9c73eb03ec" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%8D%81&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://spencerszabados.github.io/blog/2022/bayer-dithering/"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?46af317e693b09921dcb92261d123fbc" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?8b4007b6a6e0a73df09a3389d6f49210"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Spencer</span> Szabados </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Bayer Dithering</h1> <p class="post-meta"> August 20, 2022 </p> <p class="post-tags"> <a href="/blog/2022"> <i class="fa-solid fa-calendar fa-sm"></i> 2022 </a>   ·   <a href="/blog/tag/graphics"> <i class="fa-solid fa-hashtag fa-sm"></i> graphics</a>   <a href="/blog/tag/procedural-generation"> <i class="fa-solid fa-hashtag fa-sm"></i> procedural_generation</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>There exists various articles online that discuss Bayer based image dithering, but I was not able to find one that simultaneously discussed how the threshold matrices used in the technique were constructed and provided source code with a working example. Consequently, I wrote this short article for anyone seeking such a quick reference.</p> <hr> <h1 id="overview">Overview</h1> <p>Image dithering is a method that can be applied to reduce <a href="https://en.wikipedia.org/wiki/Colour_banding" rel="external nofollow noopener" target="_blank">colour banding</a> present in low bit depth (pallet limited) images, and was commonly used as a post processing step used when it was not possible to print images using a sufficient number of colours (either due to mechanical limitations or cost) to avoid artifacts.</p> <p>Next to noise (random) dithering, with simply randomly sample the image and apply a fixed threshold to each pixel value, ordered dithering methods are the next simplest to implement and use. Principle among these is Bayer dither, which is the technique discussed and implemented below.</p> <h1 id="ordered-bayer-dithering">Ordered (Bayer) Dithering</h1> <p>Bayer dithering, and ordered dithering in general, make use of a matrix of threshold values that are compared to each pixel value in the image to quantize colours. More specifically, for a \(n\)-by-\(n\) matrix \(T\), the, \({\rm RBG}\), colour channel values of each pixel, \({\rm pixel}(x,y)\), are quantized to \(c\) values based on the rule:</p> \[\begin{align*} {\rm pixel}(x,y) = \frac{\lfloor T(x\text{ mod } n,\, y\text{ mod } n)+(c-1)\text{pixel}(x,y)\rfloor}{c-1}. \end{align*}\] <p>Bayer threshold matrices are a special class of matrices, constructed by <a class="citation" href="#Bayer:1973">(Bayer, 1973)</a> for the task of create an “<em>optimal distribution</em>”, which can be taken to mean “pleasant to the eye”, of dots within the resulting image. The most commonly used matrices are those constructed using the following recursive block matrix formula, as seen on <a href="https://en.wikipedia.org/wiki/Ordered_dithering#Threshold_map" rel="external nofollow noopener" target="_blank">Wiki</a>,</p> \[\begin{align*} M_{n+1} = \frac{1}{(2n)^2}\begin{bmatrix}(2n)^2M_n &amp; (2n)^2M_n+2\\ (2n)^2M_n+3 &amp; (2n)^2M_n+1 \end{bmatrix}, \end{align*}\] <p>with the initial matrix value</p> \[\begin{align*} M_1 = \frac{1}{4}\begin{bmatrix}0 &amp; 2\\ 3 &amp; 1\end{bmatrix}, \end{align*}\] <p>which has entry values ranging from \(0,1,\dots,2^{2n}-1\).</p> <h1 id="implementing-bayer-dithering">Implementing Bayer Dithering</h1> <p>Bayer based image dithering is straightforward to implement for three channel images following the above description of the method. A working example implemented using JavaScript and the <a href="https://p5js.org/" rel="external nofollow noopener" target="_blank">p5.js</a> graphics library.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">c</span>     <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">//number of grey levels</span>
<span class="kd">let</span> <span class="nx">d</span>     <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">//dimension of threshold map</span>
<span class="kd">let</span> <span class="nx">M</span>     <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">//threshold map</span>
<span class="kd">let</span> <span class="nx">img</span>   <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">//image reference</span>
<span class="kd">let</span> <span class="nx">img_Y</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">//bitmap array of relative luminance values of img</span>
<span class="kd">let</span> <span class="nx">img_D</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">//final dithered image</span>

<span class="kd">function</span> <span class="nf">preload</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">//initilize constants</span>
  <span class="nx">c</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="nx">d</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
  <span class="c1">//define threshold map</span>
  <span class="nx">M</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">42</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">48</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">56</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">58</span><span class="p">,</span><span class="mi">26</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">44</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">46</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">38</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">60</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">62</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">54</span><span class="p">,</span><span class="mi">22</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">43</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">41</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">51</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">59</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">49</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">57</span><span class="p">,</span><span class="mi">25</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">47</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">37</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">63</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">53</span><span class="p">,</span><span class="mi">21</span><span class="p">]];</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">j</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">){</span>
      <span class="nx">M</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">j</span><span class="p">]</span> <span class="o">=</span> <span class="nx">M</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">j</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="nx">d</span><span class="o">*</span><span class="nx">d</span><span class="p">);</span> 
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">//load image and allocate space for luminance image</span>
  <span class="nx">img</span>   <span class="o">=</span> <span class="nf">loadImage</span><span class="p">(</span><span class="dl">"</span><span class="s2">assests/mike.jpg</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">img_Y</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Array</span><span class="p">(</span><span class="nx">img</span><span class="p">.</span><span class="nx">width</span><span class="o">*</span><span class="nx">img</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">//no loop canvas</span>
  <span class="nf">noLoop</span><span class="p">();</span>
  <span class="nf">pixelDensity</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nf">createCanvas</span><span class="p">(</span><span class="nx">img</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">img</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">draw</span><span class="p">(){</span>
  <span class="nx">img_D</span> <span class="o">=</span> <span class="nf">createImage</span><span class="p">(</span><span class="nx">img</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">img</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
  <span class="nx">img_D</span><span class="p">.</span><span class="nf">loadPixels</span><span class="p">();</span>
  <span class="nx">img</span><span class="p">.</span><span class="nf">loadPixels</span><span class="p">();</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">img</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">j</span><span class="o">&lt;</span><span class="nx">img</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">){</span>
      <span class="kd">let</span> <span class="nx">idx</span> <span class="o">=</span> <span class="mi">4</span><span class="o">*</span><span class="p">(</span><span class="nx">i</span><span class="o">*</span><span class="nx">img</span><span class="p">.</span><span class="nx">width</span><span class="o">+</span><span class="nx">j</span><span class="p">);</span>
      <span class="kd">let</span> <span class="nx">T</span> <span class="o">=</span> <span class="nx">M</span><span class="p">[</span><span class="nx">j</span><span class="o">%</span><span class="nx">d</span><span class="p">][</span><span class="nx">i</span><span class="o">%</span><span class="nx">d</span><span class="p">];</span>
      <span class="nx">img_D</span><span class="p">.</span><span class="nx">pixels</span><span class="p">[</span><span class="nx">idx</span>  <span class="p">]</span> <span class="o">=</span> <span class="mi">255</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nf">floor</span><span class="p">(</span><span class="nx">T</span><span class="o">+</span><span class="nx">img</span><span class="p">.</span><span class="nx">pixels</span><span class="p">[</span><span class="nx">idx</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="nx">c</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">255</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="nx">c</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
      <span class="nx">img_D</span><span class="p">.</span><span class="nx">pixels</span><span class="p">[</span><span class="nx">idx</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nf">floor</span><span class="p">(</span><span class="nx">T</span><span class="o">+</span><span class="nx">img</span><span class="p">.</span><span class="nx">pixels</span><span class="p">[</span><span class="nx">idx</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="nx">c</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">255</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="nx">c</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
      <span class="nx">img_D</span><span class="p">.</span><span class="nx">pixels</span><span class="p">[</span><span class="nx">idx</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nf">floor</span><span class="p">(</span><span class="nx">T</span><span class="o">+</span><span class="nx">img</span><span class="p">.</span><span class="nx">pixels</span><span class="p">[</span><span class="nx">idx</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="nx">c</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">255</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="nx">c</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
      <span class="nx">img_D</span><span class="p">.</span><span class="nx">pixels</span><span class="p">[</span><span class="nx">idx</span><span class="o">+</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span><span class="p">;</span>
      <span class="p">}</span>  
  <span class="p">}</span>
  <span class="nx">img_D</span><span class="p">.</span><span class="nf">updatePixels</span><span class="p">();</span>
  <span class="nf">image</span><span class="p">(</span><span class="nx">img_D</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <p>The above method performs decently well on a variety of different subjects. As an example, take the Bayer dithered image of Mike Wazowski with parameter values \(c=4\) and \(d=8\).</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/image-dither/mike_c4d8color-480.webp 480w,/assets/img/posts/image-dither/mike_c4d8color-800.webp 800w,/assets/img/posts/image-dither/mike_c4d8color-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/image-dither/mike_c4d8color.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" style="margin:auto; display:block; max-width: 400px; " loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>Take as another example, the dithered picture of a hotel I saw whilst in Honolulu for ICML2023.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/image-dither/dithered_hotel-480.webp 480w,/assets/img/posts/image-dither/dithered_hotel-800.webp 800w,/assets/img/posts/image-dither/dithered_hotel-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/image-dither/dithered_hotel.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" style="margin:auto; display:block; max-width: 400px; " loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </article> <h2>References</h2> <div class="publications"> <h2 class="bibliography">1973</h2> <ol class="bibliography"><li> <div class="row"> <div class="col-sm-2 abbr"> <abbr class="badge"></abbr> </div> <div id="Bayer:1973" class="col-sm-8"> <div class="title">An Optimum Method For Two-Level Rendition of Continuous-Tone Pictures</div> <div class="author"> B.E. Bayer </div> <div class="periodical"> 1973 </div> <div class="periodical"> </div> <div class="links"> </div> </div> </div> </li></ol> </div> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/perlin-worms/">Perlin Worms</a> </li> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Spencer Szabados. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: October 14, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?b977fe0c21b2118ed853308b1b923969"></script> <script defer src="/assets/js/bootstrap-toc.min.js?e5d98150f26024952efec2f7f9d30e5c"></script> <script src="/assets/js/no_defer.js?3ff7cc03fd475bd4728929ccd4ecf3f4"></script> <script defer src="/assets/js/common.js?6deead716675b00c409ff8575afa1cdb"></script> <script defer src="/assets/js/copy_code.js?d359581efc54b08366f9ef8219e6e511" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?25eff8ff4144a010e4ad7b31403102cf"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>